"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const os_1 = __importDefault(require("os"));
const sublime_1 = require("../sublime");
describe('util/sublime', () => {
    describe('getSublimeTextPackageDir', () => {
        it('should be defined', () => {
            expect(sublime_1.getSublimeTextPackageDir).toBeDefined();
        });
        it.each `
      mockOs      | username  | result
      ${'win32'}  | ${'code'} | ${'%APPDATA%/Roaming/Sublime Text 3/Packages/'}
      ${'darwin'} | ${'code'} | ${'/Users/code/Library/Application Support/Sublime Text 3/Packages/'}
      ${'linux'}  | ${'code'} | ${'/code/.config/sublime-text-3/Packages/'}
    `('returns the correct path to Sublime Text 3 depending on the os', ({ mockOs, username, result }) => {
            const osSpy = jest
                .spyOn(os_1.default, 'platform')
                .mockImplementationOnce(() => mockOs);
            const usernameSpy = jest
                .spyOn(os_1.default, 'userInfo')
                .mockImplementationOnce(() => ({
                username,
                uid: 0,
                gid: 0,
                homedir: '',
                shell: ''
            }));
            expect(sublime_1.getSublimeTextPackageDir()).toEqual(result);
            expect(osSpy).toHaveBeenCalled();
            expect(usernameSpy).toHaveBeenCalled();
        });
    });
});
